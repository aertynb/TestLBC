{"ast":null,"code":"import React,{Component,useState}from'react';import{Box,MenuItem,Stack,TextField,Typography}from'@mui/material';import{BarChart,ChartsTooltip}from'@mui/x-charts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ContributionBar(_ref){let{contributions}=_ref;const availableMode=['total lines','code lines','build files','CI files','resource files','documentation files'];const[mode,setMode]=useState('total lines');const languages=['JAVA','PYTHON','JAVASCRIPT','TYPESCRIPT','CSHARP','OTHER'];let data=[];let seriesX=[];let getSeries=[];if(contributions.length===0){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Contributions:\"}),/*#__PURE__*/_jsx(Typography,{children:\"No contributions available.\"})]});}if(mode==='total lines'){seriesX=[];contributions.forEach(contribution=>{const commiterName=contribution.commiter.name;const index=data.findIndex(contribution=>contribution.commiterName===commiterName);if(index!==-1){data[index].addedLines+=contribution.addedLines;}else{data.push({commiterName,addedLines:contribution.addedLines});seriesX.push(commiterName);}});getSeries=[{data:data.map(e=>e.addedLines)}];}else if(mode==='code lines'){seriesX=[];data=languages.map(l=>({data:[],stack:'total',label:l}));let tabCommiter=[];contributions.forEach(contribution=>{const lang=contribution.language;const commiterName=contribution.commiter.name;const langData=data.find(d=>d.label===lang);if(langData){const indexCommiter=tabCommiter[commiterName];if(indexCommiter!==undefined){langData.data[indexCommiter]+=contribution.addedLines;}else{languages.forEach(l=>data.find(d=>d.label===l).data.push(0));langData.data[tabCommiter.length]+=contribution.addedLines;tabCommiter[commiterName]=tabCommiter.length;seriesX.push(commiterName);}}else{console.log(\"Langue non trouvée :\",lang);}});getSeries=data;}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Contributions:\"}),/*#__PURE__*/_jsx(Box,{width:\"250px\",children:/*#__PURE__*/_jsx(TextField,{id:\"mode-select\",select:true,label:\"mode\",value:mode,onChange:event=>setMode(event.target.value),fullWidth:true,children:availableMode.map(item=>/*#__PURE__*/_jsx(MenuItem,{value:item,children:item}))})}),/*#__PURE__*/_jsx(Typography,{children:\"In development\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Contributions:\"}),/*#__PURE__*/_jsx(Box,{width:\"250px\",children:/*#__PURE__*/_jsx(Stack,{direction:\"row\",children:/*#__PURE__*/_jsx(TextField,{id:\"mode-select\",select:true,label:\"mode\",value:mode,onChange:event=>setMode(event.target.value),fullWidth:true,children:availableMode.map(item=>/*#__PURE__*/_jsx(MenuItem,{value:item,children:item},item))})})}),/*#__PURE__*/_jsx(BarChart,{xAxis:[{scaleType:'band',data:seriesX,label:'Collaborators'}],yAxis:[{label:'Number of '+mode,offset:-20}],series:getSeries,height:500,children:/*#__PURE__*/_jsx(ChartsTooltip,{})})]});}export default ContributionBar;","map":{"version":3,"names":["React","Component","useState","Box","MenuItem","Stack","TextField","Typography","BarChart","ChartsTooltip","jsx","_jsx","jsxs","_jsxs","ContributionBar","_ref","contributions","availableMode","mode","setMode","languages","data","seriesX","getSeries","length","children","variant","forEach","contribution","commiterName","commiter","name","index","findIndex","addedLines","push","map","e","l","stack","label","tabCommiter","lang","language","langData","find","d","indexCommiter","undefined","console","log","width","id","select","value","onChange","event","target","fullWidth","item","direction","xAxis","scaleType","yAxis","offset","series","height"],"sources":["C:/Users/theoc/test/test/frontend/src/ContributionBar.js"],"sourcesContent":["import React, { Component, useState } from 'react';\r\nimport { Box, MenuItem, Stack, TextField, Typography } from '@mui/material';\r\nimport { BarChart, ChartsTooltip } from '@mui/x-charts';\r\n\r\nfunction ContributionBar({ contributions }) {\r\n    const availableMode = ['total lines', 'code lines', 'build files', 'CI files', 'resource files', 'documentation files'];\r\n    const [mode, setMode] = useState('total lines');\r\n    const languages = ['JAVA', 'PYTHON', 'JAVASCRIPT', 'TYPESCRIPT', 'CSHARP', 'OTHER'];\r\n    let data = [];\r\n    let seriesX = [];\r\n    let getSeries = [];\r\n\r\n    if (contributions.length === 0) {\r\n        return (\r\n            <div>\r\n                <Typography variant=\"h6\">Contributions:</Typography>\r\n                <Typography>No contributions available.</Typography>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (mode === 'total lines') {\r\n        seriesX = [];\r\n        contributions.forEach(contribution => {\r\n            const commiterName = contribution.commiter.name;\r\n            const index = data.findIndex(contribution => contribution.commiterName === commiterName);\r\n            if (index !== -1) {\r\n                data[index].addedLines += contribution.addedLines;\r\n            } else {\r\n                data.push({\r\n                    commiterName,\r\n                    addedLines: contribution.addedLines,\r\n                });\r\n                seriesX.push(commiterName);\r\n            }\r\n        });\r\n        getSeries = [{ data: data.map(e => e.addedLines)}];\r\n    } else if (mode === 'code lines') {\r\n        seriesX = [];\r\n        data = languages.map(l => ({ data: [], stack: 'total', label: l}) );\r\n        let tabCommiter = [];\r\n        contributions.forEach(contribution => {\r\n            const lang = contribution.language;\r\n            const commiterName = contribution.commiter.name;\r\n            const langData = data.find(d => d.label === lang);\r\n            if (langData) {\r\n                const indexCommiter = tabCommiter[commiterName];\r\n                if (indexCommiter !== undefined) {\r\n                    langData.data[indexCommiter] += contribution.addedLines;\r\n                } else {\r\n                    languages.forEach(l => data.find(d => d.label === l).data.push(0));\r\n                    langData.data[tabCommiter.length] += contribution.addedLines;\r\n                    tabCommiter[commiterName] = tabCommiter.length;\r\n                    seriesX.push(commiterName);\r\n                }\r\n            } else {\r\n                console.log(\"Langue non trouvée :\", lang);\r\n            }\r\n        });\r\n        getSeries = data;\r\n    } else {\r\n        return (\r\n            <div>\r\n                <Typography variant=\"h6\">Contributions:</Typography>\r\n                <Box width='250px'>\r\n                    <TextField\r\n                        id=\"mode-select\"\r\n                        select\r\n                        label=\"mode\"\r\n                        value={mode}\r\n                        onChange={(event) => setMode(event.target.value)}\r\n                        fullWidth\r\n                    >\r\n                        {availableMode.map((item) => (\r\n                            <MenuItem value={item}>\r\n                                {item}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                </Box>\r\n                <Typography>In development</Typography>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Typography variant=\"h6\">Contributions:</Typography>\r\n            <Box width='250px'>\r\n                <Stack direction=\"row\">\r\n                    <TextField\r\n                        id=\"mode-select\"\r\n                        select\r\n                        label=\"mode\"\r\n                        value={mode}\r\n                        onChange={(event) => setMode(event.target.value)}\r\n                        fullWidth\r\n                    >\r\n                        {availableMode.map((item) => (\r\n                            <MenuItem key={item} value={item}>\r\n                                {item}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </TextField>\r\n                </Stack>\r\n            </Box>\r\n            <BarChart\r\n                xAxis={[{ scaleType: 'band', data: seriesX, label: 'Collaborators' }]}\r\n                yAxis={[{ label: 'Number of ' + mode, offset: -20 }]}\r\n                series={getSeries}\r\n                height={500}\r\n            >\r\n                <ChartsTooltip />\r\n            </BarChart>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ContributionBar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,SAAS,CAAEC,UAAU,KAAQ,eAAe,CAC3E,OAASC,QAAQ,CAAEC,aAAa,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExD,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAoB,IAAnB,CAAEC,aAAc,CAAC,CAAAD,IAAA,CACtC,KAAM,CAAAE,aAAa,CAAG,CAAC,aAAa,CAAE,YAAY,CAAE,aAAa,CAAE,UAAU,CAAE,gBAAgB,CAAE,qBAAqB,CAAC,CACvH,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGjB,QAAQ,CAAC,aAAa,CAAC,CAC/C,KAAM,CAAAkB,SAAS,CAAG,CAAC,MAAM,CAAE,QAAQ,CAAE,YAAY,CAAE,YAAY,CAAE,QAAQ,CAAE,OAAO,CAAC,CACnF,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,GAAI,CAAAC,OAAO,CAAG,EAAE,CAChB,GAAI,CAAAC,SAAS,CAAG,EAAE,CAElB,GAAIP,aAAa,CAACQ,MAAM,GAAK,CAAC,CAAE,CAC5B,mBACIX,KAAA,QAAAY,QAAA,eACId,IAAA,CAACJ,UAAU,EAACmB,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,gBAAc,CAAY,CAAC,cACpDd,IAAA,CAACJ,UAAU,EAAAkB,QAAA,CAAC,6BAA2B,CAAY,CAAC,EACnD,CAAC,CAEd,CAEA,GAAIP,IAAI,GAAK,aAAa,CAAE,CACxBI,OAAO,CAAG,EAAE,CACZN,aAAa,CAACW,OAAO,CAACC,YAAY,EAAI,CAClC,KAAM,CAAAC,YAAY,CAAGD,YAAY,CAACE,QAAQ,CAACC,IAAI,CAC/C,KAAM,CAAAC,KAAK,CAAGX,IAAI,CAACY,SAAS,CAACL,YAAY,EAAIA,YAAY,CAACC,YAAY,GAAKA,YAAY,CAAC,CACxF,GAAIG,KAAK,GAAK,CAAC,CAAC,CAAE,CACdX,IAAI,CAACW,KAAK,CAAC,CAACE,UAAU,EAAIN,YAAY,CAACM,UAAU,CACrD,CAAC,IAAM,CACHb,IAAI,CAACc,IAAI,CAAC,CACNN,YAAY,CACZK,UAAU,CAAEN,YAAY,CAACM,UAC7B,CAAC,CAAC,CACFZ,OAAO,CAACa,IAAI,CAACN,YAAY,CAAC,CAC9B,CACJ,CAAC,CAAC,CACFN,SAAS,CAAG,CAAC,CAAEF,IAAI,CAAEA,IAAI,CAACe,GAAG,CAACC,CAAC,EAAIA,CAAC,CAACH,UAAU,CAAC,CAAC,CAAC,CACtD,CAAC,IAAM,IAAIhB,IAAI,GAAK,YAAY,CAAE,CAC9BI,OAAO,CAAG,EAAE,CACZD,IAAI,CAAGD,SAAS,CAACgB,GAAG,CAACE,CAAC,GAAK,CAAEjB,IAAI,CAAE,EAAE,CAAEkB,KAAK,CAAE,OAAO,CAAEC,KAAK,CAAEF,CAAC,CAAC,CAAE,CAAC,CACnE,GAAI,CAAAG,WAAW,CAAG,EAAE,CACpBzB,aAAa,CAACW,OAAO,CAACC,YAAY,EAAI,CAClC,KAAM,CAAAc,IAAI,CAAGd,YAAY,CAACe,QAAQ,CAClC,KAAM,CAAAd,YAAY,CAAGD,YAAY,CAACE,QAAQ,CAACC,IAAI,CAC/C,KAAM,CAAAa,QAAQ,CAAGvB,IAAI,CAACwB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACN,KAAK,GAAKE,IAAI,CAAC,CACjD,GAAIE,QAAQ,CAAE,CACV,KAAM,CAAAG,aAAa,CAAGN,WAAW,CAACZ,YAAY,CAAC,CAC/C,GAAIkB,aAAa,GAAKC,SAAS,CAAE,CAC7BJ,QAAQ,CAACvB,IAAI,CAAC0B,aAAa,CAAC,EAAInB,YAAY,CAACM,UAAU,CAC3D,CAAC,IAAM,CACHd,SAAS,CAACO,OAAO,CAACW,CAAC,EAAIjB,IAAI,CAACwB,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACN,KAAK,GAAKF,CAAC,CAAC,CAACjB,IAAI,CAACc,IAAI,CAAC,CAAC,CAAC,CAAC,CAClES,QAAQ,CAACvB,IAAI,CAACoB,WAAW,CAACjB,MAAM,CAAC,EAAII,YAAY,CAACM,UAAU,CAC5DO,WAAW,CAACZ,YAAY,CAAC,CAAGY,WAAW,CAACjB,MAAM,CAC9CF,OAAO,CAACa,IAAI,CAACN,YAAY,CAAC,CAC9B,CACJ,CAAC,IAAM,CACHoB,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAER,IAAI,CAAC,CAC7C,CACJ,CAAC,CAAC,CACFnB,SAAS,CAAGF,IAAI,CACpB,CAAC,IAAM,CACH,mBACIR,KAAA,QAAAY,QAAA,eACId,IAAA,CAACJ,UAAU,EAACmB,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,gBAAc,CAAY,CAAC,cACpDd,IAAA,CAACR,GAAG,EAACgD,KAAK,CAAC,OAAO,CAAA1B,QAAA,cACdd,IAAA,CAACL,SAAS,EACN8C,EAAE,CAAC,aAAa,CAChBC,MAAM,MACNb,KAAK,CAAC,MAAM,CACZc,KAAK,CAAEpC,IAAK,CACZqC,QAAQ,CAAGC,KAAK,EAAKrC,OAAO,CAACqC,KAAK,CAACC,MAAM,CAACH,KAAK,CAAE,CACjDI,SAAS,MAAAjC,QAAA,CAERR,aAAa,CAACmB,GAAG,CAAEuB,IAAI,eACpBhD,IAAA,CAACP,QAAQ,EAACkD,KAAK,CAAEK,IAAK,CAAAlC,QAAA,CACjBkC,IAAI,CACC,CACb,CAAC,CACK,CAAC,CACX,CAAC,cACNhD,IAAA,CAACJ,UAAU,EAAAkB,QAAA,CAAC,gBAAc,CAAY,CAAC,EACtC,CAAC,CAEd,CAEA,mBACIZ,KAAA,QAAAY,QAAA,eACId,IAAA,CAACJ,UAAU,EAACmB,OAAO,CAAC,IAAI,CAAAD,QAAA,CAAC,gBAAc,CAAY,CAAC,cACpDd,IAAA,CAACR,GAAG,EAACgD,KAAK,CAAC,OAAO,CAAA1B,QAAA,cACdd,IAAA,CAACN,KAAK,EAACuD,SAAS,CAAC,KAAK,CAAAnC,QAAA,cAClBd,IAAA,CAACL,SAAS,EACN8C,EAAE,CAAC,aAAa,CAChBC,MAAM,MACNb,KAAK,CAAC,MAAM,CACZc,KAAK,CAAEpC,IAAK,CACZqC,QAAQ,CAAGC,KAAK,EAAKrC,OAAO,CAACqC,KAAK,CAACC,MAAM,CAACH,KAAK,CAAE,CACjDI,SAAS,MAAAjC,QAAA,CAERR,aAAa,CAACmB,GAAG,CAAEuB,IAAI,eACpBhD,IAAA,CAACP,QAAQ,EAAYkD,KAAK,CAAEK,IAAK,CAAAlC,QAAA,CAC5BkC,IAAI,EADMA,IAEL,CACb,CAAC,CACK,CAAC,CACT,CAAC,CACP,CAAC,cACNhD,IAAA,CAACH,QAAQ,EACLqD,KAAK,CAAE,CAAC,CAAEC,SAAS,CAAE,MAAM,CAAEzC,IAAI,CAAEC,OAAO,CAAEkB,KAAK,CAAE,eAAgB,CAAC,CAAE,CACtEuB,KAAK,CAAE,CAAC,CAAEvB,KAAK,CAAE,YAAY,CAAGtB,IAAI,CAAE8C,MAAM,CAAE,CAAC,EAAG,CAAC,CAAE,CACrDC,MAAM,CAAE1C,SAAU,CAClB2C,MAAM,CAAE,GAAI,CAAAzC,QAAA,cAEZd,IAAA,CAACF,aAAa,GAAE,CAAC,CACX,CAAC,EACV,CAAC,CAEd,CAEA,cAAe,CAAAK,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}