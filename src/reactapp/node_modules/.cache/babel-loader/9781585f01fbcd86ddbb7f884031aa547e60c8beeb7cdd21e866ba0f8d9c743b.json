{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{Table,TableBody,TableCell,TableContainer,TableRow,TableHead}from'@mui/material';import{Chip,LinearProgress,CircularProgress,Paper,Typography}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserList(){const[users,setUsers]=useState([]);const[isLoading,setIsLoading]=useState(true);const navigate=useNavigate();const fetchData=async()=>{try{setIsLoading(true);const response=await fetch('/api/user');const data=await response.json();setUsers(data);setIsLoading(false);console.log(data);}catch(error){console.error('Error fetching data:',error);setIsLoading(false);}};useEffect(()=>{fetchData();},[]);if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LinearProgress,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(CircularProgress,{disableShrink:true})]});}const handleRefresh=()=>{fetchData();};const handleRowClick=id=>{navigate(\"user/\".concat(id));};return/*#__PURE__*/_jsxs(\"div\",{style:{margin:'20px auto',maxWidth:'calc(100% - 60px)'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{flexGrow:1},children:\"List of available repositories:\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{style:{background:'#212121'},children:/*#__PURE__*/_jsx(TableCell,{style:{color:'white'},children:\"User\"})})}),/*#__PURE__*/_jsx(TableBody,{children:users.map(user=>/*#__PURE__*/_jsxs(TableRow,{onClick:()=>handleRowClick(user.id),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(TableCell,{component:\"th\",children:user.name}),/*#__PURE__*/_jsx(TableCell,{component:\"th\",children:user.dateOfCreation})]},user.id))})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRefresh,children:\"Refresh\"})]});}export default UserList;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Table","TableBody","TableCell","TableContainer","TableRow","TableHead","Chip","LinearProgress","CircularProgress","Paper","Typography","jsx","_jsx","jsxs","_jsxs","UserList","users","setUsers","isLoading","setIsLoading","navigate","fetchData","response","fetch","data","json","console","log","error","children","disableShrink","handleRefresh","handleRowClick","id","concat","style","margin","maxWidth","variant","sx","flexGrow","component","background","color","map","user","onClick","cursor","name","dateOfCreation"],"sources":["C:/Users/theoc/test/test/frontend/src/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Table, TableBody, TableCell, TableContainer, TableRow, TableHead } from '@mui/material';\r\nimport { Chip, LinearProgress, CircularProgress, Paper, Typography } from '@mui/material';\r\n\r\nfunction UserList() {\r\n    const [users, setUsers] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n          setIsLoading(true);\r\n          const response = await fetch('/api/user');\r\n          const data = await response.json();\r\n          setUsers(data);\r\n          setIsLoading(false);\r\n          console.log(data);\r\n        } catch (error) {\r\n          console.error('Error fetching data:', error);\r\n          setIsLoading(false);\r\n        }\r\n      };\r\n\r\n      useEffect(() => {\r\n          fetchData();\r\n        }, []);\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div>\r\n                <LinearProgress />\r\n                <p>Loading...</p>\r\n                <CircularProgress disableShrink />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleRefresh = () => {\r\n        fetchData();\r\n    }\r\n\r\n    const handleRowClick = (id) => {\r\n        navigate(`user/${id}`);\r\n    };\r\n\r\n    return (\r\n        <div style={{ margin: '20px auto', maxWidth: 'calc(100% - 60px)' }}>\r\n            <Typography variant=\"h4\" sx={{ flexGrow: 1}}>List of available repositories:</Typography>\r\n            <TableContainer component={Paper}>\r\n                <Table>\r\n                    <TableHead>\r\n                        <TableRow style={{ background: '#212121'}}>\r\n                            <TableCell style={{ color: 'white'}}>User</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {users.map((user) => (\r\n                            <TableRow key={user.id} onClick={() => handleRowClick(user.id)} style={{ cursor: 'pointer' }}>\r\n                                <TableCell component=\"th\">{user.name}</TableCell>\r\n                                <TableCell component=\"th\">{user.dateOfCreation}</TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <button onClick={handleRefresh}>Refresh</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}