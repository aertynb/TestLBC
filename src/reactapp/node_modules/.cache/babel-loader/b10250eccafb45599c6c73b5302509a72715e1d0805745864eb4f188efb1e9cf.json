{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import Box from'@mui/material/Box';import TextField from'@mui/material/TextField';import Button from'@mui/material/Button';import Typography from'@mui/material/Typography';import LinearProgress from'@mui/material/LinearProgress';import SendIcon from'@mui/icons-material/Send';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DataSender(){const[link,setLink]=useState('');const[isDataAdded,setIsDataAdded]=useState(false);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[progress,setProgress]=useState(0);const sendData=()=>{setLoading(true);const config={onUploadProgress:progressEvent=>{const percent=Math.round(progressEvent.loaded*100/progressEvent.total);setProgress(percent);},headers:{'Content-Type':'text/plain'}};axios.post('http://localhost:8080/api/member/post',link,config).then(response=>{console.log('Réponse du serveur:',response.data);setIsDataAdded(true);setError(null);setLoading(false);if(response.status===200){setProgress(0);}}).catch(error=>{console.error('Erreur lors de l\\'envoi des données:',error);setIsDataAdded(false);setError(error.message||'Une erreur s\\'est produite.');setLoading(false);setProgress(0);});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Box,{component:\"form\",sx:{'& > :not(style)':{m:1,width:'25ch'}},noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{flexGrow:1},children:\" Add a repository\"}),/*#__PURE__*/_jsx(TextField,{type:\"text\",value:link,onChange:e=>setLink(e.target.value),placeholder:\"Enter a valid link\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:sendData,endIcon:/*#__PURE__*/_jsx(SendIcon,{}),children:\"Send\"}),loading&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(LinearProgress,{})}),isDataAdded&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"#69f0ae\",children:\"A repository has been added. Please refresh the page to see the changes.\"})}),error&&/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"error\",children:\"Error: Please enter a URL.\"})]})});}export default DataSender;","map":{"version":3,"names":["React","useState","axios","Box","TextField","Button","Typography","LinearProgress","SendIcon","jsx","_jsx","jsxs","_jsxs","DataSender","link","setLink","isDataAdded","setIsDataAdded","loading","setLoading","error","setError","progress","setProgress","sendData","config","onUploadProgress","progressEvent","percent","Math","round","loaded","total","headers","post","then","response","console","log","data","status","catch","message","children","component","sx","m","width","noValidate","autoComplete","variant","flexGrow","type","value","onChange","e","target","placeholder","onClick","endIcon","color"],"sources":["C:/Users/theoc/test/test/src/reactapp/src/DataSender.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport Box from '@mui/material/Box';\r\nimport TextField from '@mui/material/TextField';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport LinearProgress from '@mui/material/LinearProgress';\r\nimport SendIcon from '@mui/icons-material/Send';\r\n\r\nfunction DataSender() {\r\n    const [link, setLink] = useState('');\r\n    const [isDataAdded, setIsDataAdded] = useState(false);\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [progress, setProgress] = useState(0);\r\n\r\n    const sendData = () => {\r\n        setLoading(true);\r\n        const config = {\r\n            onUploadProgress: (progressEvent) => {\r\n                const percent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n                setProgress(percent);\r\n            },\r\n            headers: {\r\n                'Content-Type': 'text/plain',\r\n            },\r\n        };\r\n        axios.post('http://localhost:8080/api/member/post', link, config)\r\n            .then(response => {\r\n                console.log('Réponse du serveur:', response.data);\r\n                setIsDataAdded(true);\r\n                setError(null);\r\n                setLoading(false);\r\n                if (response.status === 200) {\r\n                    setProgress(0);\r\n                }\r\n            })\r\n            .catch(error => {\r\n                console.error('Erreur lors de l\\'envoi des données:', error);\r\n                setIsDataAdded(false);\r\n                setError(error.message || 'Une erreur s\\'est produite.');\r\n                setLoading(false);\r\n                setProgress(0);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Box\r\n                component=\"form\"\r\n                sx={{\r\n                    '& > :not(style)': { m: 1, width: '25ch' },\r\n                }}\r\n                noValidate\r\n                autoComplete=\"off\"\r\n            >\r\n                <Typography variant=\"h4\" sx={{ flexGrow: 1}}> Add a repository</Typography>\r\n                <TextField\r\n                    type=\"text\"\r\n                    value={link}\r\n                    onChange={e => setLink(e.target.value)}\r\n                    placeholder=\"Enter a valid link\"\r\n                />\r\n                <Button variant=\"contained\" onClick={sendData} endIcon={<SendIcon />}>Send</Button>\r\n                {loading && (\r\n                    <div>\r\n                        <LinearProgress />\r\n                    </div>\r\n                )}\r\n                {isDataAdded && (\r\n                    <div>\r\n                        <Typography variant=\"body1\" color=\"#69f0ae\">\r\n                            A repository has been added. Please refresh the page to see the changes.\r\n                        </Typography>\r\n                    </div>\r\n                )}\r\n\r\n                {error && (\r\n                    <Typography variant=\"body1\" color=\"error\">\r\n                        Error: Please enter a URL.\r\n                    </Typography>\r\n                )}\r\n            </Box>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DataSender;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}