{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{Table,TableBody,TableCell,TableContainer,TableRow,TableHead}from'@mui/material';import{Chip,LinearProgress,CircularProgress,Paper,Typography}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function UserList(){const[users,setUsers]=useState([]);const[isLoading,setIsLoading]=useState(true);const navigate=useNavigate();const fetchData=async()=>{try{setIsLoading(true);const response=await fetch('/api/user');const data=await response.json();setUsers(data);setIsLoading(false);}catch(error){console.error('Error fetching data:',error);setIsLoading(false);}};useEffect(()=>{fetchData();},[]);if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LinearProgress,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(CircularProgress,{disableShrink:true})]});}const handleRefresh=()=>{fetchData();};const handleRowClick=id=>{navigate(\"user/\".concat(id));};return/*#__PURE__*/_jsxs(\"div\",{style:{margin:'20px auto',maxWidth:'calc(100% - 60px)'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{flexGrow:1},children:\"List of available repositories:\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsx(TableRow,{style:{background:'#212121'},children:/*#__PURE__*/_jsx(TableCell,{style:{color:'white'},children:\"User\"})})}),/*#__PURE__*/_jsx(TableBody,{children:users.map(user=>/*#__PURE__*/_jsx(TableRow,{onClick:()=>handleRowClick(user.id),style:{cursor:'pointer'},children:/*#__PURE__*/_jsx(TableCell,{component:\"th\",children:user.name})},user.id))})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRefresh,children:\"Refresh\"})]});}export default UserList;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","Table","TableBody","TableCell","TableContainer","TableRow","TableHead","Chip","LinearProgress","CircularProgress","Paper","Typography","jsx","_jsx","jsxs","_jsxs","UserList","users","setUsers","isLoading","setIsLoading","navigate","fetchData","response","fetch","data","json","error","console","children","disableShrink","handleRefresh","handleRowClick","id","concat","style","margin","maxWidth","variant","sx","flexGrow","component","background","color","map","user","onClick","cursor","name"],"sources":["C:/Users/theoc/test/test/frontend/src/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { Table, TableBody, TableCell, TableContainer, TableRow, TableHead } from '@mui/material';\r\nimport { Chip, LinearProgress, CircularProgress, Paper, Typography } from '@mui/material';\r\n\r\nfunction UserList() {\r\n    const [users, setUsers] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n          setIsLoading(true);\r\n          const response = await fetch('/api/user');\r\n          const data = await response.json();\r\n          setUsers(data);\r\n          setIsLoading(false);\r\n        } catch (error) {\r\n          console.error('Error fetching data:', error);\r\n          setIsLoading(false);\r\n        }\r\n      };\r\n\r\n      useEffect(() => {\r\n          fetchData();\r\n        }, []);\r\n\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div>\r\n                <LinearProgress />\r\n                <p>Loading...</p>\r\n                <CircularProgress disableShrink />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleRefresh = () => {\r\n        fetchData();\r\n    }\r\n\r\n    const handleRowClick = (id) => {\r\n        navigate(`user/${id}`);\r\n    };\r\n\r\n    return (\r\n        <div style={{ margin: '20px auto', maxWidth: 'calc(100% - 60px)' }}>\r\n            <Typography variant=\"h4\" sx={{ flexGrow: 1}}>List of available repositories:</Typography>\r\n            <TableContainer component={Paper}>\r\n                <Table>\r\n                    <TableHead>\r\n                        <TableRow style={{ background: '#212121'}}>\r\n                            <TableCell style={{ color: 'white'}}>User</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {users.map((user) => (\r\n                            <TableRow key={user.id} onClick={() => handleRowClick(user.id)} style={{ cursor: 'pointer' }}>\r\n                                <TableCell component=\"th\">{user.name}</TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n            <button onClick={handleRefresh}>Refresh</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserList;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}