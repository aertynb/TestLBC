{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';// Import Axios\nimport{Table,TableBody,TableCell,TableContainer,TableRow,TableHead,Paper,Button}from'@mui/material';import{LinearProgress,CircularProgress,Typography}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function MemberList(){const[members,setMembers]=useState([]);const[isLoading,setIsLoading]=useState(true);const navigate=useNavigate();const fetchData=async()=>{try{setIsLoading(true);const response=await axios.get('/api/member');// Use Axios to make the request\nconst data=response.data;// Axios response has a data property\nsetMembers(data);setIsLoading(false);console.log(data);}catch(error){console.error('Error fetching data:',error);setIsLoading(false);}};useEffect(()=>{fetchData();},[]);if(isLoading){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(LinearProgress,{}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(CircularProgress,{disableShrink:true})]});}const handleRefresh=()=>{fetchData();};const handleRowClick=id=>{navigate(\"repository/\".concat(id));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"div\",gutterBottom:true,children:\"Member List\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleRefresh,children:\"Refresh\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Date of Creation\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:members.map(member=>/*#__PURE__*/_jsxs(TableRow,{onClick:()=>handleRowClick(repository.id),children:[/*#__PURE__*/_jsx(TableCell,{children:member.id}),/*#__PURE__*/_jsx(TableCell,{children:member.name}),/*#__PURE__*/_jsx(TableCell,{children:member.dateOfCreation})]},member.id))})]})})]});}export default MemberList;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","axios","Table","TableBody","TableCell","TableContainer","TableRow","TableHead","Paper","Button","LinearProgress","CircularProgress","Typography","jsx","_jsx","jsxs","_jsxs","MemberList","members","setMembers","isLoading","setIsLoading","navigate","fetchData","response","get","data","console","log","error","children","disableShrink","handleRefresh","handleRowClick","id","concat","variant","component","gutterBottom","color","onClick","map","member","repository","name","dateOfCreation"],"sources":["C:/Users/theoc/test/test/src/reactapp/src/MemberList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios'; // Import Axios\r\nimport { Table, TableBody, TableCell, TableContainer, TableRow, TableHead, Paper, Button } from '@mui/material';\r\nimport { LinearProgress, CircularProgress, Typography } from '@mui/material';\r\n\r\nfunction MemberList() {\r\n    const [members, setMembers] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    const fetchData = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const response = await axios.get('/api/member'); // Use Axios to make the request\r\n            const data = response.data; // Axios response has a data property\r\n            setMembers(data);\r\n            setIsLoading(false);\r\n            console.log(data);\r\n        } catch (error) {\r\n            console.error('Error fetching data:', error);\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, []);\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div>\r\n                <LinearProgress />\r\n                <p>Loading...</p>\r\n                <CircularProgress disableShrink />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleRefresh = () => {\r\n        fetchData();\r\n    }\r\n\r\n    const handleRowClick = (id) => {\r\n            navigate(`repository/${id}`);\r\n        };\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Typography variant=\"h4\" component=\"div\" gutterBottom>\r\n                Member List\r\n            </Typography>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={handleRefresh}>\r\n                Refresh\r\n            </Button>\r\n            <TableContainer component={Paper}>\r\n                <Table>\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell>ID</TableCell>\r\n                            <TableCell>Name</TableCell>\r\n                            <TableCell>Date of Creation</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {members.map((member) => (\r\n                            <TableRow key={member.id} onClick={() => handleRowClick(repository.id)}>\r\n                                <TableCell>{member.id}</TableCell>\r\n                                <TableCell>{member.name}</TableCell>\r\n                                <TableCell>{member.dateOfCreation}</TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MemberList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}