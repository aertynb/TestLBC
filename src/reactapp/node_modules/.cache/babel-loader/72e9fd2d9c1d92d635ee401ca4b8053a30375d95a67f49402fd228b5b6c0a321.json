{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Subject}from'rxjs';import{takeUntil}from'rxjs/operators';import{jsx as _jsx}from\"react/jsx-runtime\";const fetchDataSubject=new Subject();const fetchData=async()=>{try{const response=await fetch('/api/user/getUsers');const data=await response.json();fetchDataSubject.next(data);}catch(error){console.error('Error fetching data:',error);}};const UsersComponent=()=>{const[users,setUsers]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const subscription=fetchDataSubject.pipe(takeUntil(fetchDataSubject)).subscribe({next:data=>{setUsers(data);setIsLoading(false);},error:error=>{console.error('Error fetching data:',error);setIsLoading(false);}});fetchData();return()=>{subscription.unsubscribe();};},[]);return/*#__PURE__*/_jsx(\"div\",{children:isLoading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsx(\"ul\",{children:users.map(user=>/*#__PURE__*/_jsx(\"li\",{children:user.name},user.id))})});};export default UsersComponent;","map":{"version":3,"names":["React","useState","useEffect","Subject","takeUntil","jsx","_jsx","fetchDataSubject","fetchData","response","fetch","data","json","next","error","console","UsersComponent","users","setUsers","isLoading","setIsLoading","subscription","pipe","subscribe","unsubscribe","children","map","user","name","id"],"sources":["C:/Users/theoc/test/test/frontend/src/UserList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nconst fetchDataSubject = new Subject();\r\n\r\nconst fetchData = async () => {\r\n  try {\r\n    const response = await fetch('/api/user/getUsers');\r\n    const data = await response.json();\r\n    fetchDataSubject.next(data);\r\n  } catch (error) {\r\n    console.error('Error fetching data:', error);\r\n  }\r\n};\r\n\r\nconst UsersComponent = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const subscription = fetchDataSubject.pipe(\r\n      takeUntil(fetchDataSubject)\r\n    ).subscribe({\r\n      next: (data) => {\r\n        setUsers(data);\r\n        setIsLoading(false);\r\n      },\r\n      error: (error) => {\r\n        console.error('Error fetching data:', error);\r\n        setIsLoading(false);\r\n      }\r\n    });\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <p>Loading...</p>\r\n      ) : (\r\n        <ul>\r\n          {users.map((user) => (\r\n            <li key={user.id}>{user.name}</li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersComponent;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,MAAM,CAC9B,OAASC,SAAS,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE3C,KAAM,CAAAC,gBAAgB,CAAG,GAAI,CAAAJ,OAAO,CAAC,CAAC,CAEtC,KAAM,CAAAK,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,oBAAoB,CAAC,CAClD,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCL,gBAAgB,CAACM,IAAI,CAACF,IAAI,CAAC,CAC7B,CAAE,MAAOG,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAE,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACkB,SAAS,CAAEC,YAAY,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAEhDC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,YAAY,CAAGd,gBAAgB,CAACe,IAAI,CACxClB,SAAS,CAACG,gBAAgB,CAC5B,CAAC,CAACgB,SAAS,CAAC,CACVV,IAAI,CAAGF,IAAI,EAAK,CACdO,QAAQ,CAACP,IAAI,CAAC,CACdS,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CACDN,KAAK,CAAGA,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CM,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAAC,CAEFZ,SAAS,CAAC,CAAC,CAEX,MAAO,IAAM,CACXa,YAAY,CAACG,WAAW,CAAC,CAAC,CAC5B,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,mBACElB,IAAA,QAAAmB,QAAA,CACGN,SAAS,cACRb,IAAA,MAAAmB,QAAA,CAAG,YAAU,CAAG,CAAC,cAEjBnB,IAAA,OAAAmB,QAAA,CACGR,KAAK,CAACS,GAAG,CAAEC,IAAI,eACdrB,IAAA,OAAAmB,QAAA,CAAmBE,IAAI,CAACC,IAAI,EAAnBD,IAAI,CAACE,EAAmB,CAClC,CAAC,CACA,CACL,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}